<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <script src="components/loader.js"></script>
  <script src="lib/onsenui/js/onsenui.min.js"></script>

  <link rel="stylesheet" href="components/loader.css">
  <link rel="stylesheet" href="lib/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="lib/onsenui/css/onsen-css-components.css">
  <link rel="stylesheet" href="css/style.css">
  <script>
        //
var i = 0;
var j = 0;
var mydiv = document.getElementById("list")
//-----配列自動生成（連番）  https://jsperf.com/perf-to-make-array
		var a = new Array(75);
		for (var j = 0; j < 75; j++) {
		  a[j] = j+1;}
		var num;
// 配列の中身をランダムに並び替える（抽出は1つ目から順番に）
		a.sort(
			function() {
				return Math.random() - 0.5;});
//-----【ここからボタン押してからの処理】
function button(btnNo){
//-----ボタン１のとき
	if (btnNo == 1){
//-----N回目の回転の処理
		if (i < 75){
			document.getElementById('countup').innerHTML = ("<p>現在："+(i+1)+"回目</p>");
//配列の1つ目を表示して、それを除外していく
		var num = a.splice(num,1)

//余力があったら１～１５のときはＢ、（以下省略）出来るようにしたい
		if (num < 16){
			var bingo = "B-" + num;}
		else if( num < 31){
			var bingo = "I-" + num;}
		else if( num < 46){
			var bingo = "N-" + num;}
		else if( num < 61){
			var bingo = "G-" + num;}
		else{
			var bingo = "O-" + num;}

//-----一番上に今何出てるよ！の表示
			document.getElementById('NowNum').innerHTML = ("<h1>"+bingo+"</h1>");

//-----履歴表示するところ
			var myp = document.createElement("li");
			var text = document.createTextNode((i+1)+"："+bingo);
			myp.appendChild(text);
			list.appendChild(myp);
//-----繰り返し
			i = i+1;}
//-----【75回目を表示した後もう一度「Draw」ボタンを押すと】
		else{
			var res = confirm("上限に達したのでリセットします");
			if (res == true){
				location.reload();}
			else{}}}

//-----ボタン２（１じゃない）時
	else{
	var res = confirm("最初からやります？");
	if (res == true){
		location.reload();}
	else{}}
}
        //
    </script>
</head>
<body>
  <ons-navigator id="navigator" page="page2.html"></ons-navigator>

  <ons-template id="page2.html">
    <ons-page id="second-page">
      <ons-toolbar>
          <div class="left"><ons-back-button>戻る</ons-back-button></div>
          <div class="center"><a href="index.html">ビンゴジェネレータ</a></div>
      </ons-toolbar>

      <div class="content" style="text-align: center">
        <div id="countup" style="margin: 2px 0px;"><p>現在：0回目</p></div>
        <div id="NowNum" style="width: 200px;margin: auto;padding: 2px 0px;background: white;color: red;"><h1>----</h1></div>
        <ons-button id="start" onClick="button(1)">DRAW</ons-button>
     <ul id="list" style="width: 180px;height: 240px;margin: auto;padding: 0px 10px;background-color: #DDDDDD;color: DimGray;text: 12px;overflow:scroll;list-style: none;"></ul>
        <ons-button id="continue" onClick="button(2)">Refresh</ons-button>
<div id="footer">&copy;2018</div>
      </div>
</center>
</ons-page>
  </ons-template>

</body>
</html>
